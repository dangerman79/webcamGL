<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="accordion.css">
<link rel="stylesheet" href="GLFX.css">
<link rel="icon" href="favicon.ico" type="image/png" sizes="32x32">


<script src="generalFunctions.js"></script>
<script src="dataObjs.js"></script>
<script src="accordion.js"></script>
<script src="fileIO.js"></script>
<script src="widgets.js"></script>
<script src="cameraWidget.js"></script>
<script src="chromaMaskWidget.js"></script>
<script src="videoOutWidget.js"></script>

</head>
<body>
	<div class="container">
		<header>
			<h2>GLFX</h2>
			<p>Video FX, in your Browser</p>
		</header>
		<div id="controls">
			Project name: <input type="text" id="projName" value="New Project"><br>
			<ul>
				<button id="saveSettings" type="button" onclick="saveSettingsClick();">Save Settings</button>
				<input id="fileInput" type="file" name="files[]" style="display:none;"/>
			  	<button id="loadSettings" type="button" onclick="loadSettingsClick();">Load Settings</button>
			</ul>
			<ul>
			  Add wigdets:
			  <button id="addWebcam" type="button" >Camera</button>
			  <button id="addChromaFilter" type = 'button'>Chroma Mask</button>
			  <button id="addStaccatoFilter" type = 'button'>Staccato Filter</button>
			  <button id="addVideoOutput" type = 'button'>Video Output</button>
			</ul>		
		</div>
		<div id="main">
			<!--this is where all the generated HTML goes -->
		</div>
	</div>
</body>


<script>
	navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia;
	
	
	mainDomElement = document.querySelector("#main");
	document.querySelector("#addWebcam").onclick = function(){createWidget('webcam');}
	document.querySelector("#addChromaFilter").onclick = function(){createWidget('chromaMask');}
	document.querySelector("#addStaccatoFilter").onclick = function(){createWidget('staccatoFilter');}
	document.querySelector("#addVideoOutput").onclick = function(){createWidget('videoOutput');}
	
	
	function saveSettingsClick ()
	{
		var projName = document.querySelector("#projName").value
		projectName = projName;
		saveSettingsToFile(projName);

	}
	
	function loadSettingsClick()
	{
		
		fileInputDlg = document.getElementById('fileInput');
		fileInputDlg.click();
	}
	document.getElementById('fileInput').addEventListener('change', loadSettingsFile, false);
	

</script>


</html>
